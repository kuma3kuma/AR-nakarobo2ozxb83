    <script>
        const startUI = document.getElementById('startUI');
        const startButton = document.getElementById('startButton');
        const loading = document.getElementById('loading');
        const playIndicator = document.getElementById('playIndicator');
        let loadedVideos = 0;
        const totalVideos = 3;

        // Initialize videos
        function initializeVideos() {
            const videos = document.querySelectorAll('video');
            videos.forEach(video => {
                video.muted = true;
                video.playsInline = true;
                video.setAttribute('playsinline', '');
                video.setAttribute('webkit-playsinline', '');
            });
        }

        // Marker detection handling
        document.querySelectorAll('a-marker').forEach(marker => {
            const videoNum = marker.getAttribute('videonum');
            const video = document.querySelector(`#video${videoNum}`);
            
            marker.addEventListener('markerFound', () => {
                console.log('Marker found:', videoNum);
                playIndicator.style.display = 'block';
                if (video) {
                    video.muted = true;
                    video.currentTime = 0;
                }
            });

            marker.addEventListener('markerLost', () => {
                if (video) {
                    video.pause();
                    playIndicator.style.display = 'none';
                }
            });
        });

        // Touch event handling
        document.addEventListener('touchstart', function(e) {
            const touch = e.touches[0];
            const element = document.elementFromPoint(touch.clientX, touch.clientY);
            const marker = element ? element.closest('a-marker') : null;
            
            if (marker) {
                const videoNum = marker.getAttribute('videonum');
                const video = document.querySelector(`#video${videoNum}`);
                
                if (video) {
                    if (video.paused) {
                        video.muted = true;
                        video.play()
                            .then(() => {
                                setTimeout(() => {
                                    video.muted = false;
                                    playIndicator.style.display = 'none';
                                }, 1000);
                            })
                            .catch(error => {
                                console.error('Video play error:', error);
                                playIndicator.style.display = 'block';
                            });
                    } else {
                        video.pause();
                        playIndicator.style.display = 'block';
                    }
                }
            }
        });

        function onVideoLoaded() {
            loadedVideos++;
            if (loadedVideos === totalVideos) {
                loading.style.display = 'none';
                startUI.classList.add('hidden');
            }
        }

        // Monitor video loading
        document.querySelectorAll('video').forEach(video => {
            video.addEventListener('loadeddata', onVideoLoaded, { once: true });
        });

        startButton.addEventListener('click', () => {
            loading.style.display = 'block';
            
            // Start loading videos
            const videos = document.querySelectorAll('video');
            videos.forEach(video => {
                video.load();
            });

            // Timeout handling
            setTimeout(() => {
                if (loading.style.display !== 'none') {
                    loading.style.display = 'none';
                    startUI.classList.add('hidden');
                }
            }, 5000);
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            initializeVideos();
        });

        // iOS Safari support
        document.addEventListener('touchstart', () => {
            const videos = document.querySelectorAll('video');
            videos.forEach(video => {
                video.play().then(() => {
                    video.pause();
                    video.currentTime = 0;
                }).catch(console.error);
            });
        }, { once: true });
    </script>
</body>
</html>
